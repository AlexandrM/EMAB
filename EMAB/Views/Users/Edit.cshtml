@{
    ViewBag.Title = "Edit";
    Layout = null;
}

<h2>Edit</h2>
<hr />

<div class="row animate-show-hide" ng-show="messages.items.length != 0">
    <div class="alert" ng-class="{'alert-danger': !messages.success, 'alert-success': messages.success}" role="alert">
        <p ng-repeat="item in messages.items">{{item}}</p>
    </div>
</div>

<div class="row">
    <div class="col-md-6">
        <form class="form-horizontal" name="userForm" ng-submit="saveUser(userForm.$valid)" novalidate>

            <div class="form-group" ng-class="{'has-error': userForm.UserName.$invalid && submitted}">
                <label for="inputEmail3" class="col-md-4 control-label">User name</label>
                <div class="col-md-8">
                    <input type="email" name="UserName" class="form-control" required ng-model="user.UserName" ng-disabled="user.Id != ''">
                    <p ng-show="userForm.UserName.$error.required && submitted" class="help-block">User name is required.</p>
                    <p ng-show="userForm.UserName.$error.email && submitted" class="help-block">Not valid e-mail format</p>
                </div>
            </div>

            <div class="form-group" ng-class="{'has-error': userForm.Email.$invalid && submitted}">
                <label for="inputEmail3" class="col-md-4 control-label">Email</label>
                <div class="col-md-8">
                    <input type="email" name="Email" class="form-control" required placeholder="Email" ng-model="user.Email">
                    <p ng-show="userForm.Email.$error.required && submitted" class="help-block">Email is required.</p>
                    <p ng-show="userForm.Email.$error.email && submitted" class="help-block">Not valid e-mail format</p>
                </div>
            </div>

            <div class="form-group">
                <label for="inputEmail3" class="col-md-4 control-label">First name</label>
                <div class="col-md-8">
                    <input class="form-control" name="FirstName" placeholder="First name" ng-model="user.FirstName">
                </div>
            </div>

            <div class="form-group">
                <label for="inputEmail3" class="col-md-4 control-label">Last name</label>
                <div class="col-md-8">
                    <input class="form-control" name="LastName" placeholder="Last name" ng-model="user.LastName">
                </div>
            </div>

            <div class="form-group" ng-class="{'has-error': user.Id == '' && userForm.Password.$invalid && submitted}">
                <label for="inputPassword3" class="col-md-4 control-label">Password</label>
                <div class="col-md-8">
                    <input type="password" name="Password" class="form-control" placeholder="Fill password to change" ng-model="user.Password" ng-required="user.Id == ''">
                    <p ng-show="userForm.Password.$invalid && submitted" class="help-block danger">Password is required.</p>
                </div>
            </div>

            <div class="form-group">
                <div class="col-md-offset-2 col-md-8">
                    <button class="btn btn-default" type="submit">Save</button>
                </div>
            </div>
        </form>    
    </div>
</div>

